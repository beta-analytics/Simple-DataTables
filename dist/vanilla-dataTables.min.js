/*!
 *
 * Vanilla-DataTables
 * Copyright (c) 2015-2017 Karl Saunders (http://mobius.ovh)
 * Licensed under MIT (http://www.opensource.org/licenses/mit-license.php)
 *
 * Based on Version: 1.6.14 (https://github.com/Mobius1/Vanilla-DataTables)
 * Edited version: https://github.com/espiegel/Vanilla-DataTables/tree/bugfix/search_no_results_minified
 *
 */
!function(e,t){var a="DataTable";"object"==typeof exports?module.exports=t(a):"function"==typeof define&&define.amd?define([],t(a)):e[a]=t(a)}("undefined"!=typeof global?global:this.window||this.global,function(e){"use strict";var f=window,o=document,a=(o.body,{perPage:10,perPageSelect:[5,10,15,20,25],sortable:!0,searchable:!0,nextPrev:!0,firstLast:!1,prevText:"&lsaquo;",nextText:"&rsaquo;",firstText:"&laquo;",lastText:"&raquo;",ellipsisText:"&hellip;",ascText:"▴",descText:"▾",truncatePager:!0,pagerDelta:2,fixedColumns:!0,fixedHeight:!1,header:!0,footer:!1,labels:{placeholder:"Search...",perPage:"{select} entries per page",noRows:"No entries found",info:"Showing {start} to {end} of {rows} entries"},layout:{top:"{select}{search}",bottom:"{info}{pager}"}}),h=function(e){return"[object Object]"===Object.prototype.toString.call(e)},c=function(e){return Array.isArray(e)},u=function(e,t){for(var a in t)if(t.hasOwnProperty(a)){var i=t[a];i&&h(i)?(e[a]=e[a]||{},u(e[a],i)):e[a]=i}return e},g=function(e,t,a){var i;if(h(e))for(i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.call(a,e[i],i);else for(i=0;i<e.length;i++)t.call(a,e[i],i)},b=function(e,t,a){e.addEventListener(t,a,!1)},m=function(e,t){var a,i=o.createElement(e);if(t&&"object"==typeof t)for(a in t)"html"===a?i.innerHTML=t[a]:i.setAttribute(a,t[a]);return i},l=function(e,t){if(e instanceof NodeList)g(e,function(e){l(e,t)});else if(t)for(;e.hasChildNodes();)e.removeChild(e.firstChild);else e.innerHTML=""},s=function(e,t,a){return m("li",{class:e,html:'<a href="#" data-page="'+t+'">'+a+"</a>"})},v={add:function(e,t){e.classList?e.classList.add(t):v.contains(e,t)||(e.className=e.className.trim()+" "+t)},remove:function(e,t){e.classList?e.classList.remove(t):v.contains(e,t)&&(e.className=e.className.replace(new RegExp("(^|\\s)"+t.split(" ").join("|")+"(\\s|$)","gi")," "))},contains:function(e,t){if(e)return e.classList?e.classList.contains(t):!!e.className&&!!e.className.match(new RegExp("(\\s|^)"+t+"(\\s|$)"))}},x=function(e,t){var a,i;1===t?(a=0,i=e.length):-1===t&&(a=e.length-1,i=-1);for(var n=!0;n;){n=!1;for(var s=a;s!=i;s+=t)if(e[s+t]&&e[s].value>e[s+t].value){var r=e[s],o=e[s+t],l=r;e[s]=o,e[s+t]=l,n=!0}}return e},t=function(e){return this.dt=e,this};t.prototype.swap=function(e){if(e.length&&2===e.length){var a=[];g(this.dt.headings,function(e,t){a.push(t)});var t=e[0],i=e[1],n=a[i];a[i]=a[t],a[t]=n,this.order(a)}},t.prototype.order=function(t){var a,i,n,s,r,o,l,d=[[],[],[],[]],h=this.dt;g(t,function(e,t){r=h.headings[e],o="false"!==r.getAttribute("data-sortable"),(a=r.cloneNode(!0)).originalCellIndex=t,a.sortable=o,d[0].push(a),h.hiddenColumns.indexOf(e)<0&&((i=r.cloneNode(!0)).originalCellIndex=t,i.sortable=o,d[1].push(i))}),g(h.data,function(a,e){n=a.cloneNode(),s=a.cloneNode(),n.dataIndex=s.dataIndex=e,null!==a.searchIndex&&void 0!==a.searchIndex&&(n.searchIndex=s.searchIndex=a.searchIndex),g(t,function(e,t){(l=a.cells[e].cloneNode(!0)).data=a.cells[e].data,n.appendChild(l),h.hiddenColumns.indexOf(e)<0&&((l=a.cells[e].cloneNode(!0)).data=a.cells[e].data,s.appendChild(l))}),d[2].push(n),d[3].push(s)}),h.headings=d[0],h.activeHeadings=d[1],h.data=d[2],h.activeRows=d[3],h.update()},t.prototype.hide=function(e){if(e.length){var t=this.dt;g(e,function(e){t.hiddenColumns.indexOf(e)<0&&t.hiddenColumns.push(e)}),this.rebuild()}},t.prototype.show=function(e){if(e.length){var t,a=this.dt;g(e,function(e){-1<(t=a.hiddenColumns.indexOf(e))&&a.hiddenColumns.splice(t,1)}),this.rebuild()}},t.prototype.visible=function(e){var t,a=this.dt;return e=e||a.headings.map(function(e){return e.originalCellIndex}),isNaN(e)?c(e)&&(t=[],g(e,function(e){t.push(a.hiddenColumns.indexOf(e)<0)})):t=a.hiddenColumns.indexOf(e)<0,t},t.prototype.add=function(a){var i,n=this,e=document.createElement("th");if(!this.dt.headings.length)return this.dt.insert({headings:[a.heading],data:a.data.map(function(e){return[e]})}),void this.rebuild();this.dt.hiddenHeader?e.innerHTML="":a.heading.nodeName?e.appendChild(a.heading):e.innerHTML=a.heading,this.dt.headings.push(e),g(this.dt.data,function(e,t){a.data[t]&&(i=document.createElement("td"),a.data[t].nodeName?i.appendChild(a.data[t]):i.innerHTML=a.data[t],i.data=i.innerHTML,a.render&&(i.innerHTML=a.render.call(n,i.data,i,e)),e.appendChild(i))}),a.type&&e.setAttribute("data-type",a.type),a.format&&e.setAttribute("data-format",a.format),a.hasOwnProperty("sortable")&&(e.sortable=a.sortable,e.setAttribute("data-sortable",!0===a.sortable?"true":"false")),this.rebuild(),this.dt.renderHeader()},t.prototype.remove=function(t){c(t)?(t.sort(function(e,t){return t-e}),g(t,function(e){this.remove(e)},this)):(this.dt.headings.splice(t,1),g(this.dt.data,function(e){e.removeChild(e.cells[t])})),this.rebuild()},t.prototype.sort=function(s,e,t){var a=this.dt;if(a.hasHeadings&&(s<1||s>a.activeHeadings.length))return!1;a.sorting=!0,s-=1;var i,n,r,o=a.data,l=[],d=[],h=0,c=0,p=a.activeHeadings[s];s=p.originalCellIndex,g(o,function(e){var t=e.cells[s],a=t.hasAttribute("data-content")?t.getAttribute("data-content"):t.data,i=a.replace(/(\$|\,|\s|%)/g,"");if("date"===p.getAttribute("data-type")&&f.moment){var n=!1;p.hasAttribute("data-format")&&(n=p.getAttribute("data-format")),i=function(e,t){var a=!1;if(t)switch(t){case"ISO_8601":a=moment(e,moment.ISO_8601).format("YYYYMMDD");break;case"RFC_2822":a=moment(e,"ddd, MM MMM YYYY HH:mm:ss ZZ").format("YYYYMMDD");break;case"MYSQL":a=moment(e,"YYYY-MM-DD hh:mm:ss").format("YYYYMMDD");break;case"UNIX":a=moment(e).unix();break;default:a=moment(e,t).format("YYYYMMDD")}return a}(a,n)}parseFloat(i)==i?d[c++]={value:Number(i),row:e}:l[h++]={value:a,row:e}}),v.contains(p,"asc")||"asc"==e?(n=x(l,-1),r=x(d,-1),i="descending",v.remove(p,"asc"),v.add(p,"desc")):(n=x(d,1),r=x(l,1),i="ascending",v.remove(p,"desc"),v.add(p,"asc")),a.lastTh&&p!=a.lastTh&&(v.remove(a.lastTh,"desc"),v.remove(a.lastTh,"asc")),a.lastTh=p,o=n.concat(r),a.data=[];var u=[];g(o,function(e,t){a.data.push(e.row),null!==e.row.searchIndex&&void 0!==e.row.searchIndex&&u.push(t)},a),a.searchData=u,this.rebuild(),a.update(),t||a.emit("datatable.sort",s,i)},t.prototype.rebuild=function(){var a,i,n,s,r=this.dt,o=[];r.activeRows=[],r.activeHeadings=[],g(r.headings,function(e,t){e.originalCellIndex=t,e.sortable="false"!==e.getAttribute("data-sortable"),r.hiddenColumns.indexOf(t)<0&&r.activeHeadings.push(e)},this),g(r.data,function(e,t){a=e.cloneNode(),i=e.cloneNode(),a.dataIndex=i.dataIndex=t,null!==e.searchIndex&&void 0!==e.searchIndex&&(a.searchIndex=i.searchIndex=e.searchIndex),g(e.cells,function(e){(n=e.cloneNode(!0)).data=e.data,a.appendChild(n),r.hiddenColumns.indexOf(e.cellIndex)<0&&((s=e.cloneNode(!0)).data=e.data,i.appendChild(s))}),o.push(a),r.activeRows.push(i)}),r.data=o,r.update()};var i=function(e,t){return this.dt=e,this.rows=t,this};i.prototype.build=function(a){var i,n=m("tr"),e=this.dt.headings;return e.length||(e=a.map(function(){return""})),g(e,function(e,t){i=m("td"),a[t]||a[t].length||(a[t]=""),i.innerHTML=a[t],i.data=a[t],n.appendChild(i)}),n},i.prototype.render=function(e){return e},i.prototype.add=function(e){if(c(e)){var a=this.dt;c(e[0])?g(e,function(e,t){a.data.push(this.build(e))},this):a.data.push(this.build(e)),a.data.length&&(a.hasRows=!0),this.update(),a.columns().rebuild()}},i.prototype.remove=function(e){var a=this.dt;c(e)?(e.sort(function(e,t){return t-e}),g(e,function(e,t){a.data.splice(e,1)})):a.data.splice(e,1),this.update(),a.columns().rebuild()},i.prototype.update=function(){g(this.dt.data,function(e,t){e.dataIndex=t})};var n=function(e,t){if(this.initialized=!1,this.options=u(a,t),"string"==typeof e&&(e=document.querySelector(e)),this.initialLayout=e.innerHTML,this.initialSortable=this.options.sortable,this.options.header||(this.options.sortable=!1),null===e.tHead&&(!this.options.data||this.options.data&&!this.options.data.headings)&&(this.options.sortable=!1),e.tBodies.length&&!e.tBodies[0].rows.length&&this.options.data&&!this.options.data.data)throw new Error("You seem to be using the data option, but you've not defined any rows.");this.table=e,this.init()};n.extend=function(e,t){"function"==typeof t?n.prototype[e]=t:n[e]=t};var r=n.prototype;return r.init=function(e){if(this.initialized||v.contains(this.table,"dataTable-table"))return!1;var a=this;this.options=u(this.options,e||{}),this.isIE=!!/(msie|trident)/i.test(navigator.userAgent),this.currentPage=1,this.onFirstPage=!0,this.hiddenColumns=[],this.columnRenderers=[],this.selectedColumns=[],this.render(),setTimeout(function(){a.emit("datatable.init"),a.initialized=!0,a.options.plugins&&g(a.options.plugins,function(e,t){a[t]&&"function"==typeof a[t]&&(a[t]=a[t](e,{each:g,extend:u,classList:v,createElement:m}),e.enabled&&a[t].init&&"function"==typeof a[t].init&&a[t].init())})},10)},r.render=function(e){if(e){switch(e){case"page":this.renderPage();break;case"pager":this.renderPager();break;case"header":this.renderHeader()}return!1}var a=this,i=a.options,t="";if(i.data&&function(t){var e=!1,i=!1;if((t=t||this.options.data).headings){e=m("thead");var a=m("tr");g(t.headings,function(e){var t=m("th",{html:e});a.appendChild(t)}),e.appendChild(a)}t.data&&t.data.length&&(i=m("tbody"),g(t.data,function(e){if(t.headings&&t.headings.length!==e.length)throw new Error("The number of rows do not match the number of headings.");var a=m("tr");g(e,function(e){var t=m("td",{html:e});a.appendChild(t)}),i.appendChild(a)})),e&&(null!==this.table.tHead&&this.table.removeChild(this.table.tHead),this.table.appendChild(e)),i&&(this.table.tBodies.length&&this.table.removeChild(this.table.tBodies[0]),this.table.appendChild(i))}.call(a),i.ajax){var n=i.ajax,s=new XMLHttpRequest;b(s,"progress",function(e){a.emit("datatable.ajax.progress",e,s)}),b(s,"load",function(e){if(4===s.readyState)if(a.emit("datatable.ajax.loaded",e,s),200===s.status){var t={};t.data=n.load?n.load.call(a,s):s.responseText,t.type="json",n.content&&n.content.type&&(t.type=n.content.type,t=u(t,n.content)),a.import(t),a.setColumns(!0),a.emit("datatable.ajax.success",e,s)}else a.emit("datatable.ajax.error",e,s)}),b(s,"error",function(e){a.emit("datatable.ajax.error",e,s)}),b(s,"abort",function(e){a.emit("datatable.ajax.abort",e,s)}),a.emit("datatable.ajax.loading",s),s.open("GET","string"==typeof n?i.ajax:i.ajax.url),s.send()}if(a.body=a.table.tBodies[0],a.head=a.table.tHead,a.foot=a.table.tFoot,a.body||(a.body=m("tbody"),a.table.appendChild(a.body)),a.hasRows=0<a.body.rows.length,!a.head){var r=m("thead"),o=m("tr");a.hasRows&&(g(a.body.rows[0].cells,function(){o.appendChild(m("th"))}),r.appendChild(o)),a.head=r,a.table.insertBefore(a.head,a.body),a.hiddenHeader=!i.ajax}if(a.headings=[],a.hasHeadings=0<a.head.rows.length,a.hasHeadings&&(a.header=a.head.rows[0],a.headings=[].slice.call(a.header.cells)),i.header||a.head&&a.table.removeChild(a.table.tHead),i.footer?a.head&&!a.foot&&(a.foot=m("tfoot",{html:a.head.innerHTML}),a.table.appendChild(a.foot)):a.foot&&a.table.removeChild(a.table.tFoot),a.wrapper=m("div",{class:"dataTable-wrapper dataTable-loading"}),t+="<div class='dataTable-top'>",t+=i.layout.top,t+="</div>",t+="<div class='dataTable-container'></div>",t+="<div class='dataTable-bottom'>",t+=i.layout.bottom,t=(t+="</div>").replace("{info}","<div class='dataTable-info'></div>"),i.perPageSelect){var l="<div class='dataTable-dropdown'><label>";l+=i.labels.perPage,l+="</label></div>";var d=m("select",{class:"dataTable-selector"});g(i.perPageSelect,function(e){var t=e===i.perPage,a=new Option(e,e,t,t);d.add(a)}),l=l.replace("{select}",d.outerHTML),t=t.replace("{select}",l)}else t=t.replace("{select}","");if(i.searchable){var h="<div class='dataTable-search'><input class='dataTable-input' placeholder='"+i.labels.placeholder+"' type='text'></div>";t=t.replace("{search}",h)}else t=t.replace("{search}","");a.hasHeadings&&this.render("header"),v.add(a.table,"dataTable-table");var c=m("div",{class:"dataTable-pagination"}),p=m("ul");c.appendChild(p),t=t.replace(/\{pager\}/g,c.outerHTML),a.wrapper.innerHTML=t,a.container=a.wrapper.querySelector(".dataTable-container"),a.pagers=a.wrapper.querySelectorAll(".dataTable-pagination"),a.label=a.wrapper.querySelector(".dataTable-info"),a.table.parentNode.replaceChild(a.wrapper,a.table),a.container.appendChild(a.table),a.rect=a.table.getBoundingClientRect(),a.data=[].slice.call(a.body.rows),a.activeRows=a.data.slice(),a.activeHeadings=a.headings.slice(),a.update(),i.ajax||a.setColumns(),this.fixHeight(),a.fixColumns(),i.header||v.add(a.wrapper,"no-header"),i.footer||v.add(a.wrapper,"no-footer"),i.sortable&&v.add(a.wrapper,"sortable"),i.searchable&&v.add(a.wrapper,"searchable"),i.fixedHeight&&v.add(a.wrapper,"fixed-height"),i.fixedColumns&&v.add(a.wrapper,"fixed-columns"),a.bindEvents()},r.renderPage=function(){if(this.hasRows&&this.totalPages){this.currentPage>this.totalPages&&(this.currentPage=1);var e=this.currentPage-1,t=o.createDocumentFragment();this.hasHeadings&&(l(this.header,this.isIE),g(this.activeHeadings,function(e){this.header.appendChild(e)},this)),g(this.pages[e],function(e){t.appendChild(this.rows().render(e))},this),this.clear(t),this.onFirstPage=1===this.currentPage,this.onLastPage=this.currentPage===this.lastPage}else this.clear();var a,i=0,n=0,s=0;if(this.totalPages&&(s=(n=(i=this.currentPage-1)*this.options.perPage)+this.pages[i].length,n+=1,a=this.searching?this.searchData.length:this.data.length),this.label&&this.options.labels.info.length){var r=this.options.labels.info.replace("{start}",n).replace("{end}",s).replace("{page}",this.currentPage).replace("{pages}",this.totalPages).replace("{rows}",a);this.label.innerHTML=a?r:""}1==this.currentPage&&this.fixHeight()},r.renderPager=function(){if(l(this.pagers,this.isIE),1<this.totalPages){var e="pager",t=o.createDocumentFragment(),a=this.onFirstPage?1:this.currentPage-1,i=this.onlastPage?this.totalPages:this.currentPage+1;this.options.firstLast&&t.appendChild(s(e,1,this.options.firstText)),this.options.nextPrev&&t.appendChild(s(e,a,this.options.prevText));var n=this.links;this.options.truncatePager&&(n=function(n,e,t,a,s){var r,i=2*(a=a||2),o=e-a,l=e+a,d=[],h=[];e<4-a+i?l=3+i:t-(3-a+i)<e&&(o=t-(2+i));for(var c=1;c<=t;c++)if(1==c||c==t||o<=c&&c<=l){var p=n[c-1];v.remove(p,"active"),d.push(p)}return g(d,function(e){var t=e.children[0].getAttribute("data-page");if(r){var a=r.children[0].getAttribute("data-page");if(t-a==2)h.push(n[a]);else if(t-a!=1){var i=m("li",{class:"ellipsis",html:'<a href="#">'+s+"</a>"});h.push(i)}}h.push(e),r=e}),h}(this.links,this.currentPage,this.pages.length,this.options.pagerDelta,this.options.ellipsisText)),v.add(this.links[this.currentPage-1],"active"),g(n,function(e){v.remove(e,"active"),t.appendChild(e)}),v.add(this.links[this.currentPage-1],"active"),this.options.nextPrev&&t.appendChild(s(e,i,this.options.nextText)),this.options.firstLast&&t.appendChild(s(e,this.totalPages,this.options.lastText)),g(this.pagers,function(e){e.appendChild(t.cloneNode(!0))})}},r.renderHeader=function(){var i=this;i.labels=[],i.headings&&i.headings.length&&g(i.headings,function(e,t){if(i.labels[t]=e.textContent,v.contains(e.firstElementChild,"dataTable-sorter")&&(e.innerHTML=e.firstElementChild.innerHTML),e.sortable="false"!==e.getAttribute("data-sortable"),e.originalCellIndex=t,i.options.sortable&&e.sortable){var a=m("a",{href:"#",class:"dataTable-sorter",html:e.innerHTML});e.innerHTML="",e.setAttribute("data-sortable",""),e.appendChild(a)}}),i.fixColumns()},r.bindEvents=function(){var a=this,i=a.options;if(i.perPageSelect){var e=a.wrapper.querySelector(".dataTable-selector");e&&b(e,"change",function(e){i.perPage=parseInt(this.value,10),a.update(),a.fixHeight(),a.emit("datatable.perpage",i.perPage)})}i.searchable&&(a.input=a.wrapper.querySelector(".dataTable-input"),a.input&&b(a.input,"keyup",function(e){a.search(this.value)})),b(a.wrapper,"click",function(e){var t=e.target;"a"===t.nodeName.toLowerCase()&&(t.hasAttribute("data-page")?(a.page(t.getAttribute("data-page")),e.preventDefault()):i.sortable&&v.contains(t,"dataTable-sorter")&&"false"!=t.parentNode.getAttribute("data-sortable")&&(a.columns().sort(a.activeHeadings.indexOf(t.parentNode)+1),e.preventDefault()))})},r.setColumns=function(e){var n=this;e||g(n.data,function(e){g(e.cells,function(e){e.data=e.innerHTML})}),n.options.columns&&n.headings.length&&g(n.options.columns,function(a){c(a.select)||(a.select=[a.select]),a.hasOwnProperty("render")&&"function"==typeof a.render&&(n.selectedColumns=n.selectedColumns.concat(a.select),n.columnRenderers.push({columns:a.select,renderer:a.render})),g(a.select,function(e){var t=n.headings[e];a.type&&t.setAttribute("data-type",a.type),a.format&&t.setAttribute("data-format",a.format),a.hasOwnProperty("sortable")&&t.setAttribute("data-sortable",a.sortable),a.hasOwnProperty("hidden")&&!1!==a.hidden&&n.columns().hide(e),a.hasOwnProperty("sort")&&1===a.select.length&&n.columns().sort(a.select[0]+1,a.sort,!0)})}),n.hasRows&&(g(n.data,function(e,t){e.dataIndex=t,g(e.cells,function(e){e.data=e.innerHTML})}),n.selectedColumns.length&&g(n.data,function(i){g(i.cells,function(t,a){-1<n.selectedColumns.indexOf(a)&&g(n.columnRenderers,function(e){-1<e.columns.indexOf(a)&&(t.innerHTML=e.renderer.call(n,t.data,t,i))})})}),n.columns().rebuild()),n.render("header")},r.destroy=function(){this.table.innerHTML=this.initialLayout,v.remove(this.table,"dataTable-table"),this.wrapper.parentNode.replaceChild(this.table,this.wrapper),this.initialized=!1},r.update=function(){v.remove(this.wrapper,"dataTable-empty"),this.paginate(this),this.render("page"),this.links=[];for(var e=this.pages.length;e--;){var t=e+1;this.links[e]=s(0===e?"active":"",t,t)}this.sorting=!1,this.render("pager"),this.rows().update(),this.emit("datatable.update")},r.paginate=function(){var a=this.options.perPage,i=this.activeRows;return this.searching&&(i=[],g(this.searchData,function(e){i.push(this.activeRows[e])},this)),this.pages=i.map(function(e,t){return t%a==0?i.slice(t,t+a):null}).filter(function(e){return e}),this.totalPages=this.lastPage=this.pages.length,this.totalPages},r.fixColumns=function(){if(this.options.fixedColumns&&this.activeHeadings&&this.activeHeadings.length){var t,e=!1;if(this.columnWidths=[],this.table.tHead)g(this.activeHeadings,function(e){e.style.width=""},this),g(this.activeHeadings,function(e,t){var a=e.offsetWidth,i=a/this.rect.width*100;e.style.width=i+"%",this.columnWidths[t]=a},this);else{t=[],e=m("thead");var a=m("tr"),i=this.table.tBodies[0].rows[0].cells;g(i,function(){var e=m("th");a.appendChild(e),t.push(e)}),e.appendChild(a),this.table.insertBefore(e,this.body);var n=[];g(t,function(e,t){var a=e.offsetWidth,i=a/this.rect.width*100;n.push(i),this.columnWidths[t]=a},this),g(this.data,function(e){g(e.cells,function(e,t){this.columns(e.cellIndex).visible()&&(e.style.width=n[t]+"%")},this)},this),this.table.removeChild(e)}}},r.fixHeight=function(){this.options.fixedHeight&&(this.container.style.height=null,this.rect=this.container.getBoundingClientRect(),this.container.style.height=this.rect.height+"px")},r.search=function(a){if(!this.hasRows)return!1;var r=this;if(a=a.toLowerCase(),this.currentPage=1,this.searching=!0,this.searchData=[],!a.length)return this.searching=!1,this.update(),this.emit("datatable.search",a,this.searchData),v.remove(this.wrapper,"search-results"),!1;this.clear(),g(this.data,function(s,e){var t=-1<this.searchData.indexOf(s);a.split(" ").reduce(function(e,t){for(var a=!1,i=null,n=0;n<s.cells.length;n++)if(-1<((i=s.cells[n]).hasAttribute("data-content")?i.getAttribute("data-content"):i.textContent).toLowerCase().indexOf(t)&&r.columns(i.cellIndex).visible()){a=!0;break}return e&&a},!0)&&!t?(s.searchIndex=e,this.searchData.push(e)):s.searchIndex=null},this),v.add(this.wrapper,"search-results"),r.searchData.length||(v.remove(r.wrapper,"search-results"),r.setMessage(r.options.labels.noRows)),r.update(),this.emit("datatable.search",a,this.searchData)},r.page=function(e){return e!=this.currentPage&&(isNaN(e)||(this.currentPage=parseInt(e,10)),!(e>this.pages.length||e<0)&&(this.render("page"),this.render("pager"),void this.emit("datatable.page",e)))},r.sortColumn=function(e,t){this.columns().sort(e,t)},r.insert=function(e){var n=this,t=[];if(h(e)){if(e.headings&&!n.hasHeadings&&!n.hasRows){var a,i=m("tr");g(e.headings,function(e){a=m("th",{html:e}),i.appendChild(a)}),n.head.appendChild(i),n.header=i,n.headings=[].slice.call(i.cells),n.hasHeadings=!0,n.options.sortable=n.initialSortable,n.render("header")}e.data&&c(e.data)&&(t=e.data)}else c(e)&&g(e,function(e){var i=[];g(e,function(e,t){var a=n.labels.indexOf(t);-1<a&&(i[a]=e)}),t.push(i)});t.length&&(n.rows().add(t),n.hasRows=!0),n.update(),n.fixColumns()},r.refresh=function(){this.options.searchable&&(this.input.value="",this.searching=!1),this.currentPage=1,this.onFirstPage=!0,this.update(),this.emit("datatable.refresh")},r.clear=function(e){this.body&&l(this.body,this.isIE);var t=this.body;if(this.body||(t=this.table),e){if("string"==typeof e)o.createDocumentFragment().innerHTML=e;t.appendChild(e)}},r.export=function(e){if(!this.hasHeadings&&!this.hasRows)return!1;var t,a,i,n,s=this.activeHeadings,r=[],o=[];if(!h(e))return!1;var l=u({download:!0,skipColumn:[],lineDelimiter:"\n",columnDelimiter:",",tableName:"myTable",replacer:null,space:4},e);if(l.type){if("txt"!==l.type&&"csv"!==l.type||(r[0]=this.header),l.selection)if(isNaN(l.selection)){if(c(l.selection))for(t=0;t<l.selection.length;t++)r=r.concat(this.pages[l.selection[t]-1])}else r=r.concat(this.pages[l.selection-1]);else r=r.concat(this.activeRows);if(r.length){if("txt"===l.type||"csv"===l.type){for(i="",t=0;t<r.length;t++){for(a=0;a<r[t].cells.length;a++)if(l.skipColumn.indexOf(s[a].originalCellIndex)<0&&this.columns(s[a].originalCellIndex).visible()){var d=r[t].cells[a].textContent;-1<(d=(d=(d=(d=d.trim()).replace(/\s{2,}/g," ")).replace(/\n/g,"  ")).replace(/"/g,'""')).indexOf(",")&&(d='"'+d+'"'),i+=d+l.columnDelimiter}i=i.trim().substring(0,i.length-1),i+=l.lineDelimiter}i=i.trim().substring(0,i.length-1),l.download&&(i="data:text/csv;charset=utf-8,"+i)}else if("sql"===l.type){for(i="INSERT INTO `"+l.tableName+"` (",t=0;t<s.length;t++)l.skipColumn.indexOf(s[t].originalCellIndex)<0&&this.columns(s[t].originalCellIndex).visible()&&(i+="`"+s[t].textContent+"`,");for(i=i.trim().substring(0,i.length-1),i+=") VALUES ",t=0;t<r.length;t++){for(i+="(",a=0;a<r[t].cells.length;a++)l.skipColumn.indexOf(s[a].originalCellIndex)<0&&this.columns(s[a].originalCellIndex).visible()&&(i+='"'+r[t].cells[a].textContent+'",');i=i.trim().substring(0,i.length-1),i+="),"}i=i.trim().substring(0,i.length-1),i+=";",l.download&&(i="data:application/sql;charset=utf-8,"+i)}else if("json"===l.type){for(a=0;a<r.length;a++)for(o[a]=o[a]||{},t=0;t<s.length;t++)l.skipColumn.indexOf(s[t].originalCellIndex)<0&&this.columns(s[t].originalCellIndex).visible()&&(o[a][s[t].textContent]=r[a].cells[t].textContent);i=JSON.stringify(o,l.replacer,l.space),l.download&&(i="data:application/json;charset=utf-8,"+i)}return l.download&&(l.filename=l.filename||"datatable_export",l.filename+="."+l.type,i=encodeURI(i),(n=document.createElement("a")).href=i,n.download=l.filename,document.body.appendChild(n),n.click(),document.body.removeChild(n)),i}}return!1},r.import=function(i){var n=!1;if(!h(i))return!1;if((i=u({lineDelimiter:"\n",columnDelimiter:","},i)).data.length||h(i.data)){if("csv"===i.type){n={data:[]};var e=i.data.split(i.lineDelimiter);e.length&&(i.headings&&(n.headings=e[0].split(i.columnDelimiter),e.shift()),g(e,function(e,t){n.data[t]=[];var a=e.split(i.columnDelimiter);a.length&&g(a,function(e){n.data[t].push(e)})}))}else if("json"===i.type){var t=function(e){var t=!1;try{t=JSON.parse(e)}catch(e){return!1}return!(null===t||!c(t)&&!h(t))&&t}(i.data);t?(n={headings:[],data:[]},g(t,function(e,a){n.data[a]=[],g(e,function(e,t){n.headings.indexOf(t)<0&&n.headings.push(t),n.data[a].push(e)})})):console.warn("That's not valid JSON!")}h(i.data)&&(n=i.data),n&&this.insert(n)}return!1},r.print=function(){var e=this.activeHeadings,t=this.activeRows,a=m("table"),i=m("thead"),n=m("tbody"),s=m("tr");g(e,function(e){s.appendChild(m("th",{html:e.textContent}))}),i.appendChild(s),g(t,function(e){var t=m("tr");g(e.cells,function(e){t.appendChild(m("td",{html:e.textContent}))}),n.appendChild(t)}),a.appendChild(i),a.appendChild(n);var r=f.open();r.document.body.appendChild(a),r.print()},r.setMessage=function(e){var t=1;this.hasRows&&(t=this.data[0].cells.length),v.add(this.wrapper,"dataTable-empty"),this.clear(m("tr",{html:'<td class="dataTables-empty" colspan="'+t+'">'+e+"</td>"}))},r.columns=function(e){return new t(this,e)},r.rows=function(e){return new i(this,e)},r.on=function(e,t){this.events=this.events||{},this.events[e]=this.events[e]||[],this.events[e].push(t)},r.off=function(e,t){this.events=this.events||{},e in this.events!=!1&&this.events[e].splice(this.events[e].indexOf(t),1)},r.emit=function(e){if(this.events=this.events||{},e in this.events!=!1)for(var t=0;t<this.events[e].length;t++)this.events[e][t].apply(this,Array.prototype.slice.call(arguments,1))},n});